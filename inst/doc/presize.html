<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>presize</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore"><code>presize</code></h1>



<p><a href="https://www.bmj.com/content/339/bmj.b3985">Bland (2009)</a> recommended to base study sizes on the width of the confidence interval rather the power of a statistical test. The goal of <code>presize</code> is to provide functions for such precision based sample size calculations. For a given sample size, the functions will return the precision (width of the confidence interval), and vice versa.</p>
<p><code>presize</code> is loaded like any other R Package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(presize)</span></code></pre></div>
<div id="using-presize" class="section level2">
<h2>Using <code>presize</code></h2>
<p>Here we present a couple of examples of using <code>presize</code> to determine the suitable sample size for a trial.</p>
<div id="precision-with-a-fixed-n" class="section level3">
<h3>Precision with a fixed N</h3>
<p>As preparation for a trial to estimate the sensitivity and specificity of a mobile colposcope, a device for detecting tissue abnormality, a sample size calculation was made to estimate the precision of the sensitivity of the device. A best guess for sensitivity was 75% at a prevalence of 15% with a desired sample size of 250 participants. As such, the question to be answered is how wide is the confidence interval going to be under such a scenario?</p>
<p>We plug the values into the <code>prec_sens</code> (precision of sensitivity) function as follows</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>(ss <span class="ot">&lt;-</span> <span class="fu">prec_sens</span>(<span class="at">sens   =</span> .<span class="dv">75</span>,  <span class="co"># sensitivity </span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">prev   =</span> .<span class="dv">15</span>,  <span class="co"># prevalence</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">ntot   =</span> <span class="dv">250</span>,  <span class="co"># sample size</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">&quot;wilson&quot;</span>))</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; estimating n from &#39;ntot&#39; and &#39;prev&#39;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      precision for a sensitivity with Wilson confidence interval. </span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sens   sensadj  n prev ntot conf.width conf.level       lwr       upr</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 0.75 0.7270475 38 0.15  250  0.2663919       0.95 0.5938516 0.8602435</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co">: sensadj is the adjusted sensitivity, from which the ci is calculated.</span></span></code></pre></div>
<p>We see that with 250 participants, the confidence interval would be from 59% (<code>lwr</code>) to 86% (<code>upr</code>).</p>
<p>Note that Wilson’s method of calculating confidence intervals adjusts the point estimate to allow the calculation of a symmetrical CI. This is the <code>sensadj</code> variable. For some measures there are multiple methods available. In the case of <code>prec_sens</code> (as well as <code>prec_spec</code> and <code>prec_prop</code>), there are four different approaches for creating confidence intervals, each yielding slightly different results.</p>
<p>For specificity, we use the <code>prec_spec</code> function instead. For demonstration purposes, we can also change the method used to calculate the CI.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prec_spec</span>(<span class="at">spec   =</span> .<span class="dv">75</span>,  <span class="co"># specificity </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">prev   =</span> .<span class="dv">15</span>,  <span class="co"># prevalence</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">ntot   =</span> <span class="dv">250</span>,  <span class="co"># sample size</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">method =</span> <span class="st">&quot;exact&quot;</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; estimating n from &#39;ntot&#39; and &#39;prev&#39;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      precision for a specificity with exact confidence interval. </span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   spec specadj   n prev ntot conf.width conf.level       lwr      upr</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 0.75      NA 213 0.15  250  0.1203922       0.95 0.6862538 0.806646</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co">: specadj is the adjusted specificity, from which the ci is calculated.</span></span></code></pre></div>
<p>Using the other functions in <code>presize</code> is the same. For instance the precision of a mean of 60 with an SD of 10 and 40 observations is calculated as follows.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prec_mean</span>(<span class="dv">60</span>, <span class="at">sd =</span> <span class="dv">10</span>, <span class="at">n =</span> <span class="dv">40</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      precision for mean </span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   mean sd  n conf.width conf.level      lwr      upr</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   60 10 40    6.39631       0.95 56.80184 63.19816</span></span></code></pre></div>
</div>
<div id="n-for-a-fixed-precision" class="section level3">
<h3>N for a fixed precision</h3>
<p>While fixing the sample size is sometimes necessary, it is more common to select a sample size based on a given precision. We might want to achieve a sensitivity of a given amount (e.g. plus-minus 5%). This is also possible with <code>presize</code>. Using the same code as above, we replace the <code>ntot</code> argument with the <code>conf.width</code> argument.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>(ss <span class="ot">&lt;-</span> <span class="fu">prec_sens</span>(<span class="at">sens       =</span> .<span class="dv">75</span>,   <span class="co"># sensitivity </span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">prev       =</span> .<span class="dv">15</span>,   <span class="co"># prevalence</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">conf.width =</span> .<span class="dv">1</span>,    <span class="co"># CI width</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method     =</span> <span class="st">&quot;wilson&quot;</span>))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      sample size for a sensitivity with Wilson confidence interval. </span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sens   sensadj        n prev     ntot conf.width conf.level       lwr</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 0.75 0.7466814 285.5428 0.15 1903.619        0.1       0.95 0.6966814</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         upr</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 0.7966814</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co">: sensadj is the adjusted sensitivity, from which the ci is calculated.</span></span></code></pre></div>
<p>Under this scenario, 1904 participants (of which approximately 286 would have the condition) will yield a CI width of 0.1 (10%), on average.</p>
<p>Most of the functions in <code>presize</code> have similar options, although the sample size argument is generally <code>n</code> instead of <code>ntot</code> (<code>prec_sens</code> and <code>prec_spec</code> are special in that you can pass either a number of individuals with a condition to be detected with <code>n</code>, or you pass <code>ntot</code> and <code>prev</code> to get the CI width for a mixed group in which case <code>n</code> is derived from <code>ntot</code> and <code>prev</code>). The calculations for sensitivity can also be preformed if the number of cases rather than the total number and prevalence are available. For instance, if we have 50 individuals with the condition and we expect a sensitivity of 60%, we can put those values in instead.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prec_sens</span>(.<span class="dv">6</span>, <span class="at">n =</span> <span class="dv">50</span>, <span class="at">method =</span> <span class="st">&quot;wilson&quot;</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      precision for a sensitivity with Wilson confidence interval. </span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sens   sensadj  n prev ntot conf.width conf.level       lwr       upr</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  0.6 0.5928652 50   NA   NA  0.2621017       0.95 0.4618144 0.7239161</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co">: sensadj is the adjusted sensitivity, from which the ci is calculated.</span></span></code></pre></div>
<p>Sensitivities and specificities are just proportions so <code>prec_prop</code> can also be used for this latter example.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prec_prop</span>(.<span class="dv">6</span>, <span class="at">n =</span> <span class="dv">50</span>, <span class="at">method =</span> <span class="st">&quot;wilson&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      precision for a proportion with Wilson confidence interval. </span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     p      padj  n conf.width conf.level       lwr       upr</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 0.6 0.5928652 50  0.2621017       0.95 0.4618144 0.7239161</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co">: padj is the adjusted proportion, from which the ci is calculated.</span></span></code></pre></div>
<p>Using the other functions in <code>presize</code> is the same. For instance, the sample size to obtain a CI width of 5 units with a mean of 60 with an SD of 10 is calculated as follows.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prec_mean</span>(<span class="dv">60</span>, <span class="at">sd =</span> <span class="dv">10</span>, <span class="at">conf.width =</span> <span class="dv">5</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      sample size for mean </span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   mean sd       n conf.width conf.level  lwr  upr</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   60 10 63.8979          5       0.95 57.5 62.5</span></span></code></pre></div>
</div>
<div id="multiple-scenarios" class="section level3">
<h3>Multiple scenarios</h3>
<p>It is common for only a vague idea of what to expect in terms of SDs, sensitivities, etc, so it is often worthwhile creating a set of scenarios.</p>
<p>Returning to the colposcope example from above… We want to see how the CI width varies with different sensitivities. With <code>presize</code>, it’s easy to run different scenarios, simply by passing multiple values to each parameter (where multiple values are passed, they should have the same length!). For varying a single parameter, scenarios can be created with <code>seq</code> and passed that to the appropriate <code>presize</code> functions argument. Here we vary sensitivity between 50% and 95% in steps of 5%.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(scenario_data <span class="ot">&lt;-</span> <span class="fu">prec_sens</span>(<span class="at">sens =</span> <span class="fu">seq</span>(.<span class="dv">5</span>, .<span class="dv">95</span>, .<span class="dv">05</span>), </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">prev =</span> .<span class="dv">15</span>, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">ntot =</span> <span class="dv">250</span>, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">method =</span> <span class="st">&quot;wilson&quot;</span>))</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; estimating n from &#39;ntot&#39; and &#39;prev&#39;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      precision for a sensitivity with Wilson confidence interval. </span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    sens   sensadj  n prev ntot conf.width conf.level       lwr       upr</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  0.50 0.5000000 38 0.15  250  0.3030014       0.95 0.3484993 0.6515007</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  0.55 0.5454095 38 0.15  250  0.3016224       0.95 0.3945983 0.6962207</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  0.60 0.5908190 38 0.15  250  0.2974469       0.95 0.4420956 0.7395424</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4  0.65 0.6362285 38 0.15  250  0.2903543       0.95 0.4910514 0.7814056</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  0.70 0.6816380 38 0.15  250  0.2801231       0.95 0.5415765 0.8216996</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  0.75 0.7270475 38 0.15  250  0.2663919       0.95 0.5938516 0.8602435</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  0.80 0.7724570 38 0.15  250  0.2485815       0.95 0.6481663 0.8967478</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8  0.85 0.8178665 38 0.15  250  0.2257283       0.95 0.7050024 0.9307307</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9  0.90 0.8632761 38 0.15  250  0.1960769       0.95 0.7652376 0.9613145</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 0.95 0.9086856 38 0.15  250  0.1557928       0.95 0.8307891 0.9865820</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co">: sensadj is the adjusted sensitivity, from which the ci is calculated.</span></span></code></pre></div>
<p>We can also use <code>expand.grid</code> to pass scenarios varying multiple parameters simultaneously. Below we vary sensitivity, prevalence and sample size.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>scenarios <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">sens =</span> <span class="fu">seq</span>(.<span class="dv">5</span>, .<span class="dv">95</span>, .<span class="dv">1</span>),</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">prev =</span> <span class="fu">seq</span>(.<span class="dv">1</span>, .<span class="dv">2</span>, .<span class="dv">04</span>),</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">ntot =</span> <span class="fu">c</span>(<span class="dv">250</span>, <span class="dv">350</span>))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>(scenario_data <span class="ot">&lt;-</span> <span class="fu">prec_sens</span>(<span class="at">sens =</span> scenarios<span class="sc">$</span>sens, </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                            <span class="at">prev =</span> scenarios<span class="sc">$</span>prev, </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                            <span class="at">ntot =</span> scenarios<span class="sc">$</span>ntot, </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                            <span class="at">method =</span> <span class="st">&quot;wilson&quot;</span>))</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; estimating n from &#39;ntot&#39; and &#39;prev&#39;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      precision for a sensitivity with Wilson confidence interval. </span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    sens   sensadj  n prev ntot conf.width conf.level       lwr       upr</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   0.5 0.5000000 25 0.10  250  0.3649551       0.95 0.3175224 0.6824776</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2   0.6 0.5866808 25 0.10  250  0.3585724       0.95 0.4073946 0.7659670</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3   0.7 0.6733615 25 0.10  250  0.3387033       0.95 0.5040099 0.8427132</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   0.8 0.7600423 25 0.10  250  0.3027037       0.95 0.6086905 0.9113942</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5   0.9 0.8467231 25 0.10  250  0.2435219       0.95 0.7249621 0.9684841</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6   0.5 0.5000000 35 0.14  250  0.3144853       0.95 0.3427574 0.6572426</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7   0.6 0.5901099 35 0.14  250  0.3087656       0.95 0.4357271 0.7444927</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8   0.7 0.6802198 35 0.14  250  0.2909327       0.95 0.5347534 0.8256862</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 9   0.8 0.7703297 35 0.14  250  0.2584917       0.95 0.6410839 0.8995755</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10  0.9 0.8604396 35 0.14  250  0.2046081       0.95 0.7581356 0.9627436</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [Output truncated at 10 of 30 rows]</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span><span class="al">NOTE</span><span class="co">: sensadj is the adjusted sensitivity, from which the ci is calculated.</span></span></code></pre></div>
<p>From the print method, we see the details of the individual scenarios. The default print method for <code>presize</code> objects only prints the first 10 rows, but there are in fact 30 rows (there is also a <code>print</code> function, with an <code>n</code> option to define how many rows to print, e.g. <code>print(scenario_data, n = 5)</code> can be used to print the first five rows).</p>
<p>Using the <code>as.data.frame</code> method, we can convert the list returned by <code>prec_sens</code> to a dataframe from which we can create tables or figures. Where multiple scenarios are calculated, plotting them can be particularly informative. <code>ggplot2</code>, for example, is particularly useful for this. Below we show CI width as a function of sensitivity, but the other parameters could be chosen instead.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>scenario_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(scenario_data)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Paket &#39;ggplot2&#39; wurde unter R Version 4.1.2 erstellt</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(scenario_df, </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> sens, </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> conf.width, </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>           <span class="co"># convert colour to factor for distinct colours rather than a continuum</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">col =</span> <span class="fu">as.factor</span>(prev), </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">group =</span> prev)) <span class="sc">+</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Sensitivity&quot;</span>, <span class="at">y =</span> <span class="st">&quot;CI width&quot;</span>, <span class="at">col =</span> <span class="st">&quot;Prevalence&quot;</span>) <span class="sc">+</span> </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(ntot))</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>We could also create a table of the scenarios containing the CIs. Below we select only the scenarios with sensitivities above 70% and reshape and format the table and use the <code>gt</code> package to print a nice table in HTML.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Paket &#39;dplyr&#39; wurde unter R Version 4.1.2 erstellt</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Attache Paket: &#39;dplyr&#39;</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Die folgenden Objekte sind maskiert von &#39;package:stats&#39;:</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     filter, lag</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Die folgenden Objekte sind maskiert von &#39;package:base&#39;:</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Paket &#39;tidyr&#39; wurde unter R Version 4.1.2 erstellt</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Paket &#39;magrittr&#39; wurde unter R Version 4.1.2 erstellt</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Attache Paket: &#39;magrittr&#39;</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Das folgende Objekt ist maskiert &#39;package:tidyr&#39;:</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     extract</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>scenario_df <span class="sc">%&gt;%</span> </span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create the values needed specifically for the table</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">txt =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%3.1f - %3.1f&quot;</span>, lwr <span class="sc">*</span> <span class="dv">100</span>, upr <span class="sc">*</span> <span class="dv">100</span>),</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Prevalence (%)</span><span class="st">`</span> <span class="ot">=</span> prev <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sensitivity =</span> sens <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">ntot =</span> <span class="fu">sprintf</span>(<span class="st">&quot;N = %1.0f&quot;</span>, ntot)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select particular scenarios and variables to keep</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sens <span class="sc">&gt;</span> .<span class="dv">7</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ntot, Sensitivity, <span class="st">`</span><span class="at">Prevalence (%)</span><span class="st">`</span>, txt) <span class="sc">%&gt;%</span> </span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># reshape</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> Sensitivity, </span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> txt, </span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_cols =</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">Prevalence (%)</span><span class="st">`</span>, ntot)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># group by ntot to split the table a little</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ntot) <span class="sc">%&gt;%</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create the table</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add a header</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_spanner</span>(</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">&quot;Sensitivity (%)&quot;</span>,</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_align</span>(<span class="st">&quot;center&quot;</span>, <span class="at">columns =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># increase the spacing between cells</span></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">&quot;padding-left:12px;padding-right:12px;&quot;</span>,</span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>()</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div id="ycgyyoshoy" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ycgyyoshoy .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ycgyyoshoy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ycgyyoshoy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ycgyyoshoy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ycgyyoshoy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ycgyyoshoy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ycgyyoshoy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ycgyyoshoy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ycgyyoshoy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ycgyyoshoy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ycgyyoshoy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ycgyyoshoy .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ycgyyoshoy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ycgyyoshoy .gt_from_md > :first-child {
  margin-top: 0;
}

#ycgyyoshoy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ycgyyoshoy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ycgyyoshoy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ycgyyoshoy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ycgyyoshoy .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ycgyyoshoy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ycgyyoshoy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ycgyyoshoy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ycgyyoshoy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ycgyyoshoy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ycgyyoshoy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ycgyyoshoy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ycgyyoshoy .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ycgyyoshoy .gt_left {
  text-align: left;
}

#ycgyyoshoy .gt_center {
  text-align: center;
}

#ycgyyoshoy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ycgyyoshoy .gt_font_normal {
  font-weight: normal;
}

#ycgyyoshoy .gt_font_bold {
  font-weight: bold;
}

#ycgyyoshoy .gt_font_italic {
  font-style: italic;
}

#ycgyyoshoy .gt_super {
  font-size: 65%;
}

#ycgyyoshoy .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="2" colspan="1">Prevalence (%)</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="2">
        <span class="gt_column_spanner">Sensitivity (%)</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">80</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">90</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <td colspan="3" class="gt_group_heading">N = 250</td>
    </tr>
    <tr><td class="gt_row gt_right" style="padding-left: 12px;padding-right: 12px;">10</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">60.9 - 91.1</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">72.5 - 96.8</td></tr>
    <tr><td class="gt_row gt_right" style="padding-left: 12px;padding-right: 12px;">14</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">64.1 - 90.0</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">75.8 - 96.3</td></tr>
    <tr><td class="gt_row gt_right" style="padding-left: 12px;padding-right: 12px;">18</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">66.2 - 89.1</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">77.9 - 95.8</td></tr>
    <tr class="gt_group_heading_row">
      <td colspan="3" class="gt_group_heading">N = 350</td>
    </tr>
    <tr><td class="gt_row gt_right" style="padding-left: 12px;padding-right: 12px;">10</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">64.1 - 90.0</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">75.8 - 96.3</td></tr>
    <tr><td class="gt_row gt_right" style="padding-left: 12px;padding-right: 12px;">14</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">67.0 - 88.8</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">78.6 - 95.7</td></tr>
    <tr><td class="gt_row gt_right" style="padding-left: 12px;padding-right: 12px;">18</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">68.5 - 88.0</td>
<td class="gt_row gt_center" style="padding-left: 12px;padding-right: 12px;">80.2 - 95.3</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
